<app-usernavbar></app-usernavbar>
<br>
<br>
<h3 class="text-center">Passenger Details</h3>
<hr>
<br>
<!-- <div class="form-group row">
    <div  class="col-md-6" [class.has-error]="numberOfTickets.invalid && numberOfTickets.touched">
        <input type="number" class="form-control"  id="numberOfTickets" name="numberOfTickets" [(ngModel)]="book.numberOfTickets" placeholder="Enter the Number of Passengers" #numberOfTickets="ngModel" (change)="onNumberofPassengers($event)" required >
        <span class="help-block" *ngIf="numberOfTickets.invalid && numberOfTickets.touched">Number of tickets is Required</span>
    </div>
</div> -->

<div class=" container col-md-4 col-md-offset-4"> 
    <input type="number" class=" form-control col-md-3"  id="numberOfTickets" name="numberOfTickets"  placeholder="Enter the Number of Passengers"  (input)="onNumberofPassengers($event)" required >
</div>
<div class="container">
    <form  name="bookingform" #bookingform="ngForm" (ngSubmit)="onSubmit(passengers)">
        <div class="form-group row" *ngFor="let ticket of totaltickets ;let i=index">
            <div class="col-md-1" [class.has-error]="email.invalid && email.touched">
                <input type="text" class=" form-control" id="email"  placeholder="Passenger Email"  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" [(ngModel)]="passengers[i].email" name="email" #email="ngModel"  required>
                <span class="help-block" *ngIf="email.invalid && email.touched">Email is Required</span>
            </div>
            <div class="col-md-1" [class.has-error]="name.invalid && name.touched">
                <input type="text"  id="name"  [(ngModel)]="passengers[i].name" name="name" #name="ngModel" class="form-control"  placeholder="Passenger name"  minlength="5"  required>
                <span class="help-block" *ngIf="name.invalid && name.touched">Passenger Name is Required</span>
            </div>
            <div class="col-md-1" [class.has-error]="age.invalid && age.touched">
                <input type="number"  id="age"  [(ngModel)]="passengers[i].age" name="age" #age="ngModel" class="form-control"  placeholder="Age"   required>
                <span class="help-block" *ngIf="age.invalid && age.touched">Age is Required</span>
            </div>
            <div class="col-md-1">
                <select class="form-control" [(ngModel)]="passengers[i].gender" name="gender" #gender="ngModel" id="gender"  required>
                    <option value="" disabled hidden selected>Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="others">others</option>
                </select>
                <span class="help-block" *ngIf="gender.invalid && gender.touched">Gender is Required</span>
            </div>
            <div class="col-md-1" [class.has-error]="seatNumber.invalid && seatNumber.touched">
                <input type="text"  id="seatNumber"  [(ngModel)]="passengers[i].seatNumber" name="seatNumber" #seatNumber="ngModel" class="form-control"  placeholder="seatNumber"   required>
                <span class="help-block" *ngIf="seatNumber.invalid && seatNumber.touched">SeatNUmber is Required</span>
            </div>
            <div class="col-md-1">
                <select class="form-control" [(ngModel)]="passengers[i].meals" name="meals" #meals="ngModel" id="meals"  required>
                    <option value="" disabled hidden selected>Choose Meals Type</option>
                    <option value="NonVeg">Non Vegeterian</option>
                    <option value="Veg">Vegeterian</option>
                </select>
                <span class="help-block" *ngIf="meals.invalid && meals.touched">Meal is Required</span>
            </div>
        </div>
        <br>
        <div class="form-group row">
            <div class="col-md-12 text-center">
                <button class="btn btn-primary" type="submit" [disabled]="bookingform.invalid">Book</button>
            </div>
        </div>
    </form>   
</div> 

<!-- <div class="form-group row" *ngFor="let ticket of totaltickets">
    <div class="col-md-1" [class.has-error]="email.invalid && email.touched">
        <input type="text" class=" form-control" id="email" minlength="5" placeholder="Passenger Email"  [(ngModel)]="book.passengers[ticket].email" name="email" #email="ngModel"  required>
        <span class="help-block" *ngIf="email.invalid && email.touched">Email is Required</span>
    </div>
    <div class="col-md-1" [class.has-error]="name.invalid && name.touched">
        <input type="text"  id="name"  [(ngModel)]="book.passengers[ticket].name" name="name" #name="ngModel" class="form-control"  placeholder="Passenger name"   required>
        <span class="help-block" *ngIf="destination.invalid && destination.touched">Passenger Name is Required</span>
    </div>
    <div class="col-md-1" [class.has-error]="age.invalid && age.touched">
        <input type="number"  id="age"  [(ngModel)]="book.passengers[ticket].age" name="age" #age="ngModel" class="form-control"  placeholder="Age"   required>
        <span class="help-block" *ngIf="age.invalid && age.touched">Age is Required</span>
    </div>
    <div class="col-md-1">
        <select class="form-control" [(ngModel)]="book.passengers[ticket].gender" name="gender" #gender="ngModel" id="gender"  required>
            <option value="" disabled hidden selected>Select Schedule Days</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="others">others</option>
        </select>
        <span class="help-block" *ngIf="gender.invalid && gender.touched">Gender is Required</span>
     </div>
     <div class="col-md-1" [class.has-error]="seatNumber.invalid && seatNumber.touched">
        <input type="text"  id="seatNumber"  [(ngModel)]="book.passengers[ticket].seatNumber" name="seatNumber" #seatNumber="ngModel" class="form-control"  placeholder="seatNumber"   required>
        <span class="help-block" *ngIf="seatNumber.invalid && seatNumber.touched">SeatNUmber is Required</span>
    </div>
    <div class="col-md-1">
        <select class="form-control" [(ngModel)]="book.passengers[ticket].meals" name="meals" #meals="ngModel" id="meals"  required>
            <option value="" disabled hidden selected>Choose Meals Type</option>
            <option value="NonVeg">Non Vegeterian</option>
            <option value="Veg">Vegeterian</option>
        </select>
        <span class="help-block" *ngIf="meals.invalid && meals.touched">Meal is Required</span>
     </div>
</div>
<br>
<div class="form-group row">
    <div class="col-md-12 text-center">
        <button class="btn btn-primary" type="submit" [disabled]="bookingform.invalid">Book</button>
    </div>
</div>     -->

<!-- <form  name="bookingform" #bookingform="ngForm" (ngSubmit)="onSubmit(book)">
    <table class="table table-striped">
        <tr  *ngFor="let ticket of totaltickets; let i=index;">
            <td>
                <input type="text" class=" form-control" id="email"  placeholder="Passenger Email"  [(ngModel)]="passengers[i].email" name="email" #email="ngModel"  required>
                <span class="help-block" *ngIf="email.invalid && email.touched">Email is Required</span>
            </td>
            <td>
                <input type="text"  id="name"  [(ngModel)]="passengers[i].name" name="name" #name="ngModel" class="form-control"  placeholder="Passenger name"   required>
                <span class="help-block" *ngIf="name.invalid && name.touched">Passenger Name is Required</span>
            </td>
            <td>
                <input type="number"  id="age"  [(ngModel)]="passengers[i].age" name="age" #age="ngModel" class="form-control"  placeholder="Age"   required>
                <span class="help-block" *ngIf="age.invalid && age.touched">Age is Required</span>
            </td>
            <td>
                <select class="form-control" [(ngModel)]="passengers[i].gender" name="gender" #gender="ngModel" id="gender"  required>
                    <option value="" disabled hidden selected>Select Schedule Days</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="others">others</option>
                </select>
                <span class="help-block" *ngIf="gender.invalid && gender.touched">Gender is Required</span>
            </td>
            <td>
                <input type="text"  id="seatNumber"  [(ngModel)]="passengers[i].seatNumber" name="seatNumber" #seatNumber="ngModel" class="form-control"  placeholder="seatNumber"   required>
                <span class="help-block" *ngIf="seatNumber.invalid && seatNumber.touched">SeatNUmber is Required</span>
            </td>
            <td>
                <select class="form-control" [(ngModel)]="passengers[i].meals" name="meals" #meals="ngModel" id="meals"  required>
                    <option value="" disabled hidden selected>Choose Meals Type</option>
                    <option value="NonVeg">Non Vegeterian</option>
                    <option value="Veg">Vegeterian</option>
                </select>
                <span class="help-block" *ngIf="meals.invalid && meals.touched">Meal is Required</span>
            </td>       
        </tr> 
        <tr>
            <td>
                <button class="btn btn-primary" type="submit" [disabled]="bookingform.invalid">Book</button>
            </td>
        </tr> 
    </table>
</form> -->

